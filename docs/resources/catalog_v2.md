---
page_title: "Rancher2: rancher2_catalog_v2 Resource"
description: |-
  Provides a Rancher Catalog v2 resource. This can be used to create cluster helm catalogs for Rancher v2 environments and retrieve their information. Catalog v2 resource is available at Rancher v2.5.x and above.
---

# rancher2\_catalog\_v2 Resource

Provides a Rancher Catalog v2 resource. This can be used to create cluster helm catalogs for Rancher v2 environments and retrieve their information. Catalog v2 resource is available at Rancher v2.5.x and above.

## Example Usage

```hcl
# Create a new Rancher2 Catalog V2 using git repo and branch
resource "rancher2_catalog_v2" "foo" {
  cluster_id = <CLUSTER_ID>
  name = "foo"
  git_repo = "<GIT_REPO_URL>"
  git_branch = "<GIT_BRANCH>"
}
# Create a new Rancher2 Catalog V2 using url
resource "rancher2_catalog_v2" "foo-url" {
  cluster_id = <CLUSTER_ID>
  name = "foo-url"
  url = "https://<CATALOG_URL>"
}
```

## Argument Reference

The following arguments are supported:

* `cluster_id` - (Required/ForceNew) The cluster id of the catalog V2 (string)
* `name` - (Required) The name of the catalog v2 (string)
* `ca_bundle` - (Optional) PEM encoded CA bundle which will be used to validate the repo's certificate (string)
* `enabled` - (Optional) If disabled the repo clone will not be updated or allowed to be installed from. Default: `true` (bool)
* `git_branch` - (Optional/Computed) Git Repository branch containing Helm chart definitions. Default `master` (string)
* `git_repo` - (Optional) The url of the catalog v2 repo. Conflicts with `url` (string)
* `insecure` - (Optional) Use insecure HTTPS to download the repo's index. Default: `false` (bool)
* `secret_name` - (Optional) K8s secret name to be used to connect to the repo (string)
* `secret_namespace` - (Optional) K8s secret namespace (string)
* `service_account` - (Optional) K8s service account used to deploy charts instead of the end users credentials (string)
* `service_account_namespace` - (Optional) The username to access the catalog if needed (string)
* `url` - (Optional) URL to an index generated by Helm. Conflicts with `git_repo` (string)
* `annotations` - (Optional/Computed) Annotations for the catalog v2 (map)
* `labels` - (Optional/Computed) Labels for the catalog v2 (map)

## Attributes Reference

The following attributes are exported:

* `id` - (Computed) The ID of the resource (string)
* `resource_version` - (Computed) The k8s resource version (string)

## Timeouts

`rancher2_catalog` provides the following
[Timeouts](https://www.terraform.io/docs/configuration/resources.html#operation-timeouts) configuration options:

- `create` - (Default `10 minutes`) Used for creating v2 catalogs.
- `update` - (Default `10 minutes`) Used for v2 catalog modifications.
- `delete` - (Default `10 minutes`) Used for deleting v2 catalogs.

## Import

V2 catalogs can be imported using the Rancher cluster ID and Catalog V2 name.

```
$ terraform import rancher2_catalog_v2.foo &lt;CLUSTER_ID&gt;.&lt;CATALOG_V2_NAME&gt;
```
